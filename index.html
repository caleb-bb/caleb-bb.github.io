<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <!-- 2023-03-13 Mon 12:44 -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <meta name="viewport" content=
  "width=device-width, initial-scale=1" />

  <title>&lrm;</title>
  <meta name="author" content="Caleb Beers" />
  <meta name="generator" content="Org Mode" />
  <style type="text/css">
/*<![CDATA[*/
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
  /*]]>*/
  </style>
  <script type="text/x-mathjax-config">
<![CDATA[
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
  });
  ]]>
  </script>
  <script src=
  "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"
  type="text/javascript">
</script>
</head>

<body>
  <div id="content" class="content">
    <div id="table-of-contents" role="doc-toc">
      <h2>Table of Contents</h2>

      <div id="text-table-of-contents" role="doc-toc">
        <ul>
          <li>
            <a href="#orgf9d2df5">1. January</a>

            <ul>
              <li>
                <a href="#org047bac3">1.1. Monday 1/30</a>

                <ul>
                  <li><a href="#org4c6aac4">1.1.1. Add missing
                  billing categories #187</a></li>

                  <li><a href="#orgdfd95e6">1.1.2. Feat/na i116
                  email identity management #189</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgbeba6a9">1.2. Tuesday 1/31</a>

                <ul>
                  <li><a href="#org8a7d95f">1.2.1. Feat/na i116
                  email identity management #189</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <li>
            <a href="#orgd3ad429">2. February</a>

            <ul>
              <li>
                <a href="#orgbbfebdc">2.1. Wednesday 2/1</a>

                <ul>
                  <li><a href="#orgb46de9f">2.1.1. Feat/na i116
                  email identity management #189</a></li>
                </ul>
              </li>

              <li><a href="#orgb6fbd70">2.2. Thursday 2/2</a></li>

              <li>
                <a href="#org462acea">2.3. Friday 2/3</a>

                <ul>
                  <li><a href="#orge8cef41">2.3.1. (feat) [NA-I143]
                  Seperate &ldquo;notes&rdquo; as a separate button
                  and patch objects</a></li>
                </ul>
              </li>

              <li><a href="#org7361504">2.4. Monday 2/6</a></li>

              <li><a href="#org9f3571d">2.5. Tuesday 2/7</a></li>

              <li><a href="#org2492042">2.6. Wednesday 2/8</a></li>

              <li><a href="#org55edb1b">2.7. Thursday 2/9</a></li>

              <li><a href="#org1363d5a">2.8. Friday 2/10</a></li>

              <li><a href="#orgfde550c">2.9. Monday 2/13</a></li>

              <li><a href="#orgb47048a">2.10. Tuesday 2/14</a></li>

              <li>
                <a href="#org8069540">2.11. Wednesday 2/15</a>

                <ul>
                  <li><a href="#orgf0f9bb1">2.11.1.
                  NA-I136</a></li>

                  <li><a href="#org1ca4fbd">2.11.2.
                  chore/structural refactor</a></li>

                  <li><a href="#org9b22d7f">2.11.3.
                  NA-I143</a></li>
                </ul>
              </li>

              <li>
                <a href="#org5deb8ca">2.12. Thursday 2/16</a>

                <ul>
                  <li><a href="#orgd71c2dc">2.12.1.
                  NA-I143</a></li>
                </ul>
              </li>

              <li>
                <a href="#org444b28c">2.13. Friday 2/17</a>

                <ul>
                  <li><a href="#orgdf587fe">2.13.1.
                  NA-I143</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgc3625c5">2.14. Monday 2/20</a>

                <ul>
                  <li><a href="#orgc6d0774">2.14.1.
                  NA-I143</a></li>

                  <li><a href="#org82cbde1">2.14.2.
                  NA-I136-implement-identity-documents</a></li>
                </ul>
              </li>

              <li>
                <a href="#org5f4dffc">2.15. Tuesday 2/21</a>

                <ul>
                  <li><a href="#orgefc0d75">2.15.1.
                  NA-I136-implement-identity-documents</a></li>
                </ul>
              </li>

              <li>
                <a href="#org104d81a">2.16. Wednesday 2/22</a>

                <ul>
                  <li><a href="#org9468031">2.16.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgcb24b5b">2.17. Thursday 2/23</a>

                <ul>
                  <li><a href="#org3d20737">2.17.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgeb8cf8b">2.18. Friday 2/24</a>

                <ul>
                  <li><a href="#orga3dca81">2.18.1.
                  NA-I119-vps-management</a></li>

                  <li><a href="#orgbb43429">2.18.2.
                  NOTICKET</a></li>
                </ul>
              </li>

              <li>
                <a href="#org5de40fe">2.19. Monday 2/28</a>

                <ul>
                  <li><a href="#org5649837">2.19.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#orga1de76f">2.20. Tuesday 2/29</a>

                <ul>
                  <li><a href="#org164fa2c">2.20.1.
                  NOTICKET-add-daisyui-and-popout-menu</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgf99a02c">2.21. Wednesday 3/01</a>

                <ul>
                  <li><a href="#org35b5e27">2.21.1.
                  NOTICKET-add-daisyui-and-popou-menu</a></li>

                  <li><a href="#orgbfb1435">2.21.2.
                  NA-I145-implement-provider-research-registrar</a></li>
                </ul>
              </li>

              <li>
                <a href="#org19f2e96">2.22. Thursday 3/02</a>

                <ul>
                  <li><a href="#orgd9f14aa">2.22.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#org01b62d7">2.23. Friday 3/03</a>

                <ul>
                  <li><a href="#org8af0302">2.23.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#org47349e3">2.24. Monday 3/06</a>

                <ul>
                  <li><a href="#orge367a5e">2.24.1.
                  NA-I119-vps-management</a></li>

                  <li><a href="#orgd4f1793">2.24.2.
                  NOTICKET/add-daisyui-and-popout-menu</a></li>
                </ul>
              </li>

              <li>
                <a href="#org7526b77">2.25. Tuesday 3/07</a>

                <ul>
                  <li><a href="#org21b7bf0">2.25.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#org12121a0">2.26. Wednesday 3/08</a>

                <ul>
                  <li><a href="#org78f0c96">2.26.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#org410ada6">2.27. Thursday 3/08</a>

                <ul>
                  <li><a href="#orga36b4ed">2.27.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#org7b62d37">2.28. Friday 3/09</a>

                <ul>
                  <li><a href="#orgb3c465b">2.28.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>

              <li>
                <a href="#orgd0a77fa">2.29. Monday 3/13</a>

                <ul>
                  <li><a href="#org86988b8">2.29.1.
                  NA-I119-vps-management</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="outline-container-orgf9d2df5" class="outline-2">
      <h2 id="orgf9d2df5"><span class="section-number-2">1.</span>
      January</h2>

      <div class="outline-text-2" id="text-1"></div>

      <div id="outline-container-org047bac3" class="outline-3">
        <h3 id="org047bac3"><span class=
        "section-number-3">1.1.</span> Monday 1/30</h3>

        <div class="outline-text-3" id="text-1-1"></div>

        <div id="outline-container-org4c6aac4" class="outline-4">
          <h4 id="org4c6aac4"><span class=
          "section-number-4">1.1.1.</span> Add missing billing
          categories #187</h4>

          <div class="outline-text-4" id="text-1-1-1">
            <p>(note: merge this one before #189)</p>

            <ol class="org-ol">
              <li>Put the links in `root.html.heex` under the right
              category (Accounting).</li>

              <li>Make the selected categories in the multi-select
              be put onto the credit card when it&rsquo;s
              submitted. This involves reworking the controller and
              the template.</li>

              <li>Make sure that the categories pre-selected in the
              multi-select are only those categories already on the
              card. Rework the assigns:
              `@assigned\billing_categories` changes to
              `@billing_categories` and `@assigned categories`
              stays the same.</li>

              <li>Change schema names for credit card and paypal
              account to singular</li>

              <li>Remove category\edit link and files</li>

              <li>Resize and center edit and create modals for
              billing categories</li>

              <li>Finishing:

                <ol class="org-ol">
                  <li>Run tests</li>

                  <li>Manually test</li>

                  <li>`mix compile &ndash;force` and fix all errors
                  and warnings</li>

                  <li>Remove inspects and puts</li>
                </ol>
              </li>
            </ol>
          </div>
        </div>

        <div id="outline-container-orgdfd95e6" class="outline-4">
          <h4 id="orgdfd95e6"><span class=
          "section-number-4">1.1.2.</span> Feat/na i116 email
          identity management #189</h4>

          <div class="outline-text-4" id="text-1-1-2">
            <ol class="org-ol">
              <li>Move the `New Identity` link up to the top under
              `Listing Identities`.</li>

              <li>Likewise with `New Email`.</li>

              <li>Import Ecto Commons validator functions to
              `schema.ex` so they&rsquo;ll be available to all
              schemas.</li>

              <li>Add belongs&rarr;(:identity) to the email schema
              and has_many(:emails) to identity schema.</li>

              <li>Add select field to the modal for emails.</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-orgbeba6a9" class="outline-3">
        <h3 id="orgbeba6a9"><span class=
        "section-number-3">1.2.</span> Tuesday 1/31</h3>

        <div class="outline-text-3" id="text-1-2"></div>

        <div id="outline-container-org8a7d95f" class="outline-4">
          <h4 id="org8a7d95f"><span class=
          "section-number-4">1.2.1.</span> Feat/na i116 email
          identity management #189</h4>

          <div class="outline-text-4" id="text-1-2-1">
            <ol class="org-ol">
              <li>Address PR comments re: formatting and naming
              fields.</li>

              <li>Need to find a way to generate a keyword list so
              first and last names are displayed but keyed to ids.
              This will take some research. It turns out that
              `select` as used in Phoenix templates will happily
              take a keyword list as an argument. The keys of the
              keyword list will be displayed as options, but the
              actual params that the form sends to the event
              handler will be the values of those keys. So I wrote
              a little function `generate\keyword_list/1` in
              `live_helpers.ex`, which sorts out the first and last
              names on a phone account and keys them to ids, then
              spits out a keyword list for neat display in the
              template. :-)</li>

              <li>Allow identities to be added to emails. We need
              to abstract maybe\put_identity to a helpers file
              (probably in `schema.ex`) and make sure it&rsquo;s
              available from there. Also abstract out an
              assign_all_identities function (most likely to
              `live_helpers.ex`) and make that available to both
              the form components i email_live and
              phone_accounts.</li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-orgd3ad429" class="outline-2">
      <h2 id="orgd3ad429"><span class="section-number-2">2.</span>
      February</h2>

      <div class="outline-text-2" id="text-2"></div>

      <div id="outline-container-orgbbfebdc" class="outline-3">
        <h3 id="orgbbfebdc"><span class=
        "section-number-3">2.1.</span> Wednesday 2/1</h3>

        <div class="outline-text-3" id="text-2-1"></div>

        <div id="outline-container-orgb46de9f" class="outline-4">
          <h4 id="orgb46de9f"><span class=
          "section-number-4">2.1.1.</span> Feat/na i116 email
          identity management #189</h4>

          <div class="outline-text-4" id="text-2-1-1">
            <ol class="org-ol">
              <li>Need to fix error where NetAdminWeb cannot be
              found when user\settings_controller attempts to use
              it. Turns out that `mix compile &ndash;force` will
              fix errors like that.</li>

              <li>Editing an email account to add an identity does
              not seem to work. Got it working, but had to change
              `identity\id` directly instead of changing the
              association. Let&rsquo;s see how we did it in
              `phone_account`&hellip; It was the `on_replace`
              option that did it. Let&rsquo;s fix that by changing
              to `:nilify` instead of `:update `.</li>

              <li>Change email to email\address in the email
              accounts migration, the email accounts schema, the
              email accounts context, the email accounts live views
              and components and templates, and the tests for all
              those.</li>

              <li>Manually test</li>

              <li>Run tests, make tests pass</li>

              <li>Run `mix compile &ndash;force`</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-orgb6fbd70" class="outline-3">
        <h3 id="orgb6fbd70"><span class=
        "section-number-3">2.2.</span> Thursday 2/2</h3>

        <div class="outline-text-3" id="text-2-2">
          <p>So far, the postgrex error is only coming up on
          Identities, Emails, and Phone Accounts, PayPal Accounts,
          and Credit Cards pages, not the Users page.</p>

          <p>Anyhow, I checked the Postgrex error:</p>

          <p>[error] Postgrex.Protocol (#PID&lt;0.604.0&gt;)
          disconnected: ** (DBConnection.ConnectionError) owner
          #PID&lt;0.2692.0&gt; timed out because it owned the
          connection for longer than 120000ms (set via the
          :ownership\timeout option)</p>

          <p>Notice the PID is 0.2692.0. This matches the root PID
          for the LiveView socket at the time this was running,
          which implies that this is a LiveView issue. It happens
          no matter which root liveview we&rsquo;re using, but ONLY
          if we&rsquo;re using a liveview.</p>

          <p>Made some minor fixes in the two open PRs. One was
          merged.</p>
        </div>
      </div>

      <div id="outline-container-org462acea" class="outline-3">
        <h3 id="org462acea"><span class=
        "section-number-3">2.3.</span> Friday 2/3</h3>

        <div class="outline-text-3" id="text-2-3"></div>

        <div id="outline-container-orge8cef41" class="outline-4">
          <h4 id="orge8cef41"><span class=
          "section-number-4">2.3.1.</span> (feat) [NA-I143]
          Seperate &ldquo;notes&rdquo; as a separate button and
          patch objects</h4>

          <div class="outline-text-4" id="text-2-3-1">
            <p>We need a separate notes tag for:</p>

            <ol class="org-ol">
              <li>Email Accounts</li>

              <li>Identities</li>

              <li>Billing Categories</li>

              <li>Credit Cards *</li>

              <li>Paypal Accounts</li>
            </ol>

            <p>\* already has a notes field but needs the
            &ldquo;notes&rdquo; link removed from the grid and
            turned into a button. The button should change an
            assign that reveals the notes field.</p>

            <p>Create some migrations to add a &ldquo;notes&rdquo;
            text field to email account, identities, billing
            categories, and paypal accounts.</p>

            <p>For objects 1, 2, 3, and 5, the process is:</p>

            <ol class="org-ol">
              <li>Modify the schema

                <ol class="org-ol">
                  <li>Add notes as a field under the schema
                  definition.</li>

                  <li>Add notes in all the appropriate changeset
                  attrs lists</li>
                </ol>
              </li>

              <li>Create the text box component and make it
              reusable.

                <ol class="org-ol">
                  <li>This should be a modal that takes the assigns
                  and can add</li>
                </ol>
              </li>

              <li>Modify the templates

                <ol class="org-ol">
                  <li>Add notes in the form components for each
                  template</li>
                </ol>
              </li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-org7361504" class="outline-3">
        <h3 id="org7361504"><span class=
        "section-number-3">2.4.</span> Monday 2/6</h3>

        <div class="outline-text-3" id="text-2-4">
          <p>It&rsquo;s too complex to add a modal-within-a-modal,
          so I&rsquo;m going to refactor the form components to
          exist on parent edit liveviews. So for example,
          `form\component.ex` for phone identities will need to
          show up on PhoneIdentitiesLive.Edit. This will require a
          medium-size refactor. This will be a heavier lift than I
          thought.</p>

          <ol class="org-ol">
            <li>Create an edit liveview for the other entities:
            billing categories, emails, identities, phone
            accounts.</li>

            <li>For each of these, edit the router so that the
            `&ldquo;entity/edit&rdquo;` and
            `&ldquo;entity/new&rdquo;` routes point to the new edit
            liveview.</li>

            <li>Add links in the appropriate place in the index
            liveviews.</li>

            <li>Delete old modals and form components. Remove
            `apply\action` pipelines from parent controllers with
            names like `Entity.Index`.</li>

            <li>Remove the hidden inputs and put a note button
            there to open the notes modal.</li>
          </ol>

          <p>NOTE: I would like to set up the structural refactor
          to create &ldquo;assign\changeset&rdquo; and other
          &ldquo;assign&rdquo; functions for these liveviews.
          I&rsquo;ll get to that when I get back to the structural
          refactor.</p>
        </div>
      </div>

      <div id="outline-container-org9f3571d" class="outline-3">
        <h3 id="org9f3571d"><span class=
        "section-number-3">2.5.</span> Tuesday 2/7</h3>

        <div class="outline-text-3" id="text-2-5">
          <p>Right now we have four liveview entities:</p>

          <ol class="org-ol">
            <li>Billing Categories</li>

            <li>Credit Cards</li>

            <li>Emails</li>

            <li>Identities</li>

            <li>Paypals</li>

            <li>Phone Accounts</li>
          </ol>

          <p>Step 3 of the list from yesterday for each one.</p>
        </div>
      </div>

      <div id="outline-container-org2492042" class="outline-3">
        <h3 id="org2492042"><span class=
        "section-number-3">2.6.</span> Wednesday 2/8</h3>

        <div class="outline-text-3" id="text-2-6">
          <p>Almost everything is set up. Now to put the finishing
          touches on the modal and add a note button.</p>

          <p>The note button can start off as a simple button tag
          that emits a click event. That&rsquo;ll change the
          `notes?` assign and then make the multi-line note edit
          modal appear.</p>

          <p>Looks like a button tag submits the form even when it
          doesn&rsquo;t have a `type=&ldquo;submit&rdquo;`
          attribute. Solution: just make it some text and specify
          an event name in the div element.</p>

          <p>Need to correct the tests to reflect the new structure
          in this refactor. Then add tests for the notes
          option.</p>

          <p>And done! All tests pass, no warnings on `mix compile
          &ndash;force`</p>

          <p>Tomorrow: run `git rebase netadmin\v2` and go from
          there.</p>
        </div>
      </div>

      <div id="outline-container-org55edb1b" class="outline-3">
        <h3 id="org55edb1b"><span class=
        "section-number-3">2.7.</span> Thursday 2/9</h3>

        <div class="outline-text-3" id="text-2-7">
          <p>Index controllers in these files:</p>

          <ol class="org-ol">
            <li>Billing Categories</li>

            <li>Credit Cards</li>

            <li>Emails</li>

            <li>Identities</li>

            <li>Paypals</li>

            <li>Phone Accounts</li>
          </ol>

          <p>To add note button to grids:</p>

          <ol class="org-ol">
            <li>Assign notes?=false in each index
            controller&rsquo;s `mount/3`: \ |&gt; assign(notes?:
            [])</li>

            <li>Add notes? event handler to each index controller:
            @impl true def handle\event(&ldquo;notes-field&rdquo;,
            %{&ldquo;id&rdquo; <code>&gt; id} = params, socket) do
            case socket.assigns.notes =</code> id do true -&gt;
            {:noreply, assign(socket, notes: [])} \ -&gt;
            {:noreply, assign(socket, notes: id)} end end</li>

            <li>Copy and paste this into each index heex:
            &lt;td&gt; &lt;div phx-click=&ldquo;notes-field&rdquo;
            class=&ldquo;notes&rdquo;
            phx-value-id={entity.id}&gt;Notes&lt;/div&gt; &lt;%= if
            entity.id <code>= @notes do %&gt; &lt;%</code>
            entity.notes %&gt; &lt;% end %&gt; &lt;/td&gt;</li>
          </ol>

          <p>Afterwards change paypal edit to show/hide notes as
          the other pages.</p>
        </div>
      </div>

      <div id="outline-container-org1363d5a" class="outline-3">
        <h3 id="org1363d5a"><span class=
        "section-number-3">2.8.</span> Friday 2/10</h3>

        <div class="outline-text-3" id="text-2-8">
          <p>&mdash;</p>
        </div>
      </div>

      <div id="outline-container-orgfde550c" class="outline-3">
        <h3 id="orgfde550c"><span class=
        "section-number-3">2.9.</span> Monday 2/13</h3>

        <div class="outline-text-3" id="text-2-9">
          <p>Return to working on structural refactor. Pluralize
          schemas and do some housecleaning.</p>

          <p>Go over Tailwind PR and notes PR with Kyle.</p>

          <p>Leave roles alone but change tooltip for billing
          categories to Tailwind.</p>

          <p>Daisy UI is easy to add, so go ahead and add it.</p>
        </div>
      </div>

      <div id="outline-container-orgb47048a" class="outline-3">
        <h3 id="orgb47048a"><span class=
        "section-number-3">2.10.</span> Tuesday 2/14</h3>

        <div class="outline-text-3" id="text-2-10">
          <p>As it turns out, Tailwind has a set of default styles
          called &ldquo;preflight&rdquo; that overrides the default
          Phoenix styles. Disabled.</p>

          <p>Also worked a little more on the structural refactor.
          I want to get this code nice and clean before more major
          changes are made.</p>
        </div>
      </div>

      <div id="outline-container-org8069540" class="outline-3">
        <h3 id="org8069540"><span class=
        "section-number-3">2.11.</span> <a id="org4da1785" name=
        "org4da1785"></a>Wednesday 2/15</h3>

        <div class="outline-text-3" id="text-2-11"></div>

        <div id="outline-container-orgf0f9bb1" class="outline-4">
          <h4 id="orgf0f9bb1"><span class=
          "section-number-4">2.11.1.</span> NA-I136</h4>

          <div class="outline-text-4" id="text-2-11-1">
            <p>So, I need to set up a file upload so people can
            upload documents for an identity. Phoenix has a
            `fileupload` function built-in so that&rsquo;s what
            I&rsquo;ll use. Postgres can store binaries, so
            that&rsquo;s how we&rsquo;ll be storing our files.</p>

            <p>The database design should be fairly simple:
            documents ought to have a &ldquo;data&rdquo; field for
            the binary blob. I will need to research how these are
            stored in postgres - might not need a field. It will
            need an `identityid` as a foreign key, and of course,
            each document will have its own `document_id`. By
            itself, those three should be sufficient, although it
            might also behoove us to have a `name` or `title` field
            just to have some way of referencing these things
            without seeing a UUID with a zillion random characters.
            So, the agenda here is:</p>

            <ol class="org-ol">
              <li>Create a migration for the documents table.</li>

              <li>Add a document upload field to the appropriate
              entities</li>

              <li>Adjust the changesets and schemas. This will
              naturally be a `hasmany` relation between the
              entities and their files.</li>
            </ol>
          </div>
        </div>

        <div id="outline-container-org1ca4fbd" class="outline-4">
          <h4 id="org1ca4fbd"><span class=
          "section-number-4">2.11.2.</span> chore/structural
          refactor</h4>

          <div class="outline-text-4" id="text-2-11-2">
            <p>For the structural refactor, we need:</p>

            <ol class="org-ol">
              <li>Get rid of `no route found` error for
              favicon</li>

              <li>Get rid of `no route found` error for static
              path</li>
            </ol>
          </div>
        </div>

        <div id="outline-container-org9b22d7f" class="outline-4">
          <h4 id="org9b22d7f"><span class=
          "section-number-4">2.11.3.</span> NA-I143</h4>

          <div class="outline-text-4" id="text-2-11-3">
            <p>And on the `notes` PR, we need to move the notes
            button from the form to the grid. This applies to these
            entities:</p>

            <ol class="org-ol">
              <li>Billing Categories</li>

              <li>Credit Cards</li>

              <li>Emails</li>

              <li>Identities</li>

              <li>Paypals</li>

              <li>Phone Accounts</li>
            </ol>

            <p>This will be accomplished by means of a notes modal
            that opens, takes a changeset for the given item, and
            only updates the notes field.</p>

            <p>It seems that the notes modal needs a way to see
            what kind of struct is being passed in. There is a way
            to pattern match on structs, and it can certainly be
            passed in as an assign.</p>

            <p>The other thing we need to do to make this work is
            make sure that every function for updating an entity in
            a context is named `update` not `updatethis_thing`.
            &lt;&ndash; undo this later (Thursday note)</p>

            <p>To complete the update function in the notes modal,
            I will need to make it possible to select the right
            module for a given struct.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org5deb8ca" class="outline-3">
        <h3 id="org5deb8ca"><span class=
        "section-number-3">2.12.</span> Thursday 2/16</h3>

        <div class="outline-text-3" id="text-2-12"></div>

        <div id="outline-container-orgd71c2dc" class="outline-4">
          <h4 id="orgd71c2dc"><span class=
          "section-number-4">2.12.1.</span> NA-I143</h4>

          <div class="outline-text-4" id="text-2-12-1">
            <p>Continuing the notes modal work from yesterday.
            It&rsquo;s problematic to have a single modal that does
            all this because it must recognize the type of struct
            it&rsquo;s getting and call the correct context
            function. I&rsquo;ll just duplicate modals instead.</p>

            <p>Note to self: when complexity seems overwhelming,
            premature optimization may have happened. Perhaps solve
            the problem with duplication instead.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org444b28c" class="outline-3">
        <h3 id="org444b28c"><span class=
        "section-number-3">2.13.</span> Friday 2/17</h3>

        <div class="outline-text-3" id="text-2-13"></div>

        <div id="outline-container-orgdf587fe" class="outline-4">
          <h4 id="orgdf587fe"><span class=
          "section-number-4">2.13.1.</span> NA-I143</h4>

          <div class="outline-text-4" id="text-2-13-1">
            <ol class="org-ol">
              <li>Copy notes modal to each live directory for each
              entity</li>

              <li>Add routes for each modal</li>

              <li>Copy and paste modal and notes link into each
              `heex`</li>

              <li>Make modifications in each `heex`</li>

              <li>Make modifications in each `notesmodal`
              controller.</li>

              <li>Add `handle_params/3` call to get the entity id
              to each `index` controller.</li>

              <li>Manual test</li>

              <li>Remove the notes field from the edit views</li>

              <li>Rebase or merge</li>

              <li>Mix format</li>

              <li>Make sure tests pass</li>

              <li>Get rid of any warnings with `mix compile
              &ndash;force`</li>

              <li>Push and request review</li>
            </ol>

            <p>Note: it looks like the paypal and phone accout
            index pages have the edit and delete buttons grouped
            under a single `&lt;tr&gt;` with two `&lt;span&gt;`s.
            Should homogenize those in the structural refactor.</p>

            <p>Ran into a very mysterious error where forms were
            not emitting events. As it turns out, forms cannot emit
            events from inside of tables, so the modal has to be
            set outside of the table to emit anything.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-orgc3625c5" class="outline-3">
        <h3 id="orgc3625c5"><span class=
        "section-number-3">2.14.</span> Monday 2/20</h3>

        <div class="outline-text-3" id="text-2-14"></div>

        <div id="outline-container-orgc6d0774" class="outline-4">
          <h4 id="orgc6d0774"><span class=
          "section-number-4">2.14.1.</span> NA-I143</h4>

          <div class="outline-text-4" id="text-2-14-1">
            <p>Finished! PR is pushed for review. Added a quick
            last-minute change to `README.md` to clarify how Google
            OAuth works for this app.</p>
          </div>
        </div>

        <div id="outline-container-org82cbde1" class="outline-4">
          <h4 id="org82cbde1"><span class=
          "section-number-4">2.14.2.</span>
          NA-I136-implement-identity-documents</h4>

          <div class="outline-text-4" id="text-2-14-2">
            <p>Resuming work from <a href=
            "#org4da1785">2.11</a>.</p>

            <p>A document should `belong_to` a entity, where that
            entity can `have_many` documents. Problem: a document
            can `belong_to` more than one type of entity. So we
            can&rsquo;t put `belongs_to:
            NetAdmin.Identities.Identity`, for example, because
            that locks documents to only one kind of entity. A
            polymorphic association would appear to be the
            solution. According to <a href=
            "https://hexdocs.pm/ecto/Ecto.Schema.html#belongs_to/3-polymorphic-associations">
            the hex docs</a>, this is best accomplished in our case
            by simply adding a separate id field for each possible
            parent in the documents table.</p>

            <p>We can add the extra fields by adding new migrations
            later. In the meantime, I&rsquo;ll just do identities.
            It is important that the `identities_id` be nullable.
            In order to take the approach described in the hex
            docs, any given `id` column must be nullable.</p>

            <p>Chris McCord said in 2020 that components do not
            currently support file uploads, so I will need to
            refactor the `form_component.ex` into an `edit.ex`
            which will be its own parent LiveView.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org5f4dffc" class="outline-3">
        <h3 id="org5f4dffc"><span class=
        "section-number-3">2.15.</span> Tuesday 2/21</h3>

        <div class="outline-text-3" id="text-2-15"></div>

        <div id="outline-container-orgefc0d75" class="outline-4">
          <h4 id="orgefc0d75"><span class=
          "section-number-4">2.15.1.</span>
          NA-I136-implement-identity-documents</h4>

          <div class="outline-text-4" id="text-2-15-1">
            <p>First, make a list of files associated with an
            identity that shows up in the edit dialogue. Second,
            let&rsquo;s make them downloadable.</p>

            <p>Direct downloads are not yet supported by LiveView
            so we&rsquo;ll write a Phoenix controller to do it for
            us.</p>

            <p>Unfortunately, we can&rsquo;t just redirect to that
            controller and go back to LiveView. There is, as of
            yet, no good way to redirect from LiveView to a Phoenix
            controller and then get back to LiveView easily.</p>

            <p>Instead, we&rsquo;ll do some magic with JS to serve
            the file via an event listener in `app.js`. We can push
            stuff to this listener using `push_event/3`, with an
            event name of &ldquo;download&rdquo; and a payload
            consisting of a map: `%{&ldquo;uri&rdquo; =&gt;
            Routes.download_path(socket, :document, id)}`. This map
            causes the phoenix controller designated by that route
            (this is `NetAdminWeb.DownloadController`) to open in a
            hidden frame. That controller serves the file. The
            `:document` argument to our route helper tells the
            controller to call `document/3`. In the future, if we
            wanna download anything else, we can add functions
            besides `document/3`.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org104d81a" class="outline-3">
        <h3 id="org104d81a"><span class=
        "section-number-3">2.16.</span> Wednesday 2/22</h3>

        <div class="outline-text-3" id="text-2-16"></div>

        <div id="outline-container-org9468031" class="outline-4">
          <h4 id="org9468031"><span class=
          "section-number-4">2.16.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-16-1">
            <p>Create resources for vps management liveviews.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-orgcb24b5b" class="outline-3">
        <h3 id="orgcb24b5b"><span class=
        "section-number-3">2.17.</span> Thursday 2/23</h3>

        <div class="outline-text-3" id="text-2-17"></div>

        <div id="outline-container-org3d20737" class="outline-4">
          <h4 id="org3d20737"><span class=
          "section-number-4">2.17.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-17-1">
            <p>Fix CSS issue wtih checkboxes.</p>

            <p>Need to:</p>

            <ol class="org-ol">
              <li>Make currency a string for now</li>

              <li>A country can just have a name and an id. Create
              schema/migration with `phx.gen.schema`.</li>

              <li>Put the United States as a country in
              `seeds.exs`</li>

              <li>Give the VPS schema a belongs_to relation to
              countries.</li>

              <li>Make the country and currency selector on the
              form a dropdown based on work already done.</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-orgeb8cf8b" class="outline-3">
        <h3 id="orgeb8cf8b"><span class=
        "section-number-3">2.18.</span> Friday 2/24</h3>

        <div class="outline-text-3" id="text-2-18"></div>

        <div id="outline-container-orga3dca81" class="outline-4">
          <h4 id="orga3dca81"><span class=
          "section-number-4">2.18.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-18-1">
            <p>Need to address some PR comments.</p>

            <ol class="org-ol">
              <li>Add migration and schema for currency table.
              Should have exchange rate and name.</li>

              <li>Rewrite the countries migration to add specified
              fields: `abbr`,`country_code`. `name`, `iana_domain`,
              `itu_calling`, `currency_id`. The `currency_id`
              should be a foreign key to the currency table.</li>

              <li>Add all the countries that Kyle sent me to
              `seeds.exs`.</li>

              <li>Allow search to filter country names.</li>

              <li>Change the migration and `vps.ex` so that only
              Name, Cost, and URL are required.</li>

              <li>Add URL validation with Ecto Commons.</li>
            </ol>
          </div>
        </div>

        <div id="outline-container-orgbb43429" class="outline-4">
          <h4 id="orgbb43429"><span class=
          "section-number-4">2.18.2.</span> NOTICKET</h4>

          <div class="outline-text-4" id="text-2-18-2">
            <ol class="org-ol">
              <li>Add Daisy UI to get components</li>

              <li>use Daisy UI&rsquo;s provided dropdown component
              to add the &ldquo;Research&rdquo; tab.</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-org5de40fe" class="outline-3">
        <h3 id="org5de40fe"><span class=
        "section-number-3">2.19.</span> Monday 2/28</h3>

        <div class="outline-text-3" id="text-2-19"></div>

        <div id="outline-container-org5649837" class="outline-4">
          <h4 id="org5649837"><span class=
          "section-number-4">2.19.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-19-1">
            <p>Complete ticket.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-orga1de76f" class="outline-3">
        <h3 id="orga1de76f"><span class=
        "section-number-3">2.20.</span> Tuesday 2/29</h3>

        <div class="outline-text-3" id="text-2-20"></div>

        <div id="outline-container-org164fa2c" class="outline-4">
          <h4 id="org164fa2c"><span class=
          "section-number-4">2.20.1.</span>
          NOTICKET-add-daisyui-and-popout-menu</h4>

          <div class="outline-text-4" id="text-2-20-1">
            <p>As it turns out, flexbox can become quite confused
            if it has heterogenous elements. So if you have
            `justify-center` for your flexbox items, it might not
            know that, say, an `&lt;a&gt;` element and a
            `&lt;nav&gt;` element are to be treated the same. So
            wrapping each individual element in a `&lt;div&gt;` can
            be quite helpful because flexbox will treat `divs` as
            homogeneous elements.</p>

            <p>I think I should replace the current drawer with a
            sidebar from daisyui. The general pattern from here on
            out should be: each time I work on a component, I
            remove any legacy code and replace it with
            Tailwind/daisy. That way we can change the CSS over to
            tailwind without bothering with a single huge
            overhaul.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-orgf99a02c" class="outline-3">
        <h3 id="orgf99a02c"><span class=
        "section-number-3">2.21.</span> Wednesday 3/01</h3>

        <div class="outline-text-3" id="text-2-21"></div>

        <div id="outline-container-org35b5e27" class="outline-4">
          <h4 id="org35b5e27"><span class=
          "section-number-4">2.21.1.</span>
          NOTICKET-add-daisyui-and-popou-menu</h4>

          <div class="outline-text-4" id="text-2-21-1">
            <p>Finish first draft. Next we&rsquo;ll want to merge
            the `form_component.ex` to the parent component.</p>
          </div>
        </div>

        <div id="outline-container-orgbfb1435" class="outline-4">
          <h4 id="orgbfb1435"><span class=
          "section-number-4">2.21.2.</span>
          NA-I145-implement-provider-research-registrar</h4>

          <div class="outline-text-4" id="text-2-21-2">
            <p>Implement required functionality. This has a
            `form_component.ex`, however, so it will need to be
            merged to the parent liveview since that&rsquo;s the
            preferred behavior for this. Also, get rid of main
            scrolling behavior.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org19f2e96" class="outline-3">
        <h3 id="org19f2e96"><span class=
        "section-number-3">2.22.</span> Thursday 3/02</h3>

        <div class="outline-text-3" id="text-2-22"></div>

        <div id="outline-container-orgd9f14aa" class="outline-4">
          <h4 id="orgd9f14aa"><span class=
          "section-number-4">2.22.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-22-1">
            <p>Implementing the requested search behavior will take
            a bit of work!</p>

            <p>In order to implement autocomplete behavior, we have
            to set it up so that the value of the search_input
            field is set from `form_component.ex`, probably by an
            event handler. That&rsquo;s a challenge: how do we set
            the value of form fields from event handlers? Normally
            the value is typed in. The best I can think of is to
            set the value of the field equal to an assign and
            change that assign in the event handler.</p>

            <p>This was fun to build and the only other example I
            can find uses AlpineJS. I did it without any JS so some
            LiveView developers would probably be interested to see
            how to do this.</p>

            <p>Hmm&hellip; Not saving to the db yet! We also have
            the problem that if the query is a substring of another
            string that comes before it alphabetically, that other
            string will be saved.</p>

            <p>Okay, corrected both of those by having it check to
            see if an exact match exists in the list before
            defaulting to the first result.</p>

            <p>Next steps:</p>

            <ol class="org-ol">
              <li>Make tests pass.

                <ol class="org-ol">
                  <li>Add fixture for countries</li>

                  <li>Call country fixture to create a country in
                  the providers test</li>

                  <li>Pass that country as an argument to the vps
                  fixture called in the providers test.</li>
                </ol>
              </li>

              <li>Merge `form_component.ex` to edit parent.</li>

              <li>Contact kyle for further feedback</li>

              <li>Apply feedback</li>

              <li>Fix up subsequent PRs with merge/rebase.</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-org01b62d7" class="outline-3">
        <h3 id="org01b62d7"><span class=
        "section-number-3">2.23.</span> Friday 3/03</h3>

        <div class="outline-text-3" id="text-2-23"></div>

        <div id="outline-container-org8af0302" class="outline-4">
          <h4 id="org8af0302"><span class=
          "section-number-4">2.23.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-23-1">
            <p>Make the tests pass (step 1. from yesterday).</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org47349e3" class="outline-3">
        <h3 id="org47349e3"><span class=
        "section-number-3">2.24.</span> Monday 3/06</h3>

        <div class="outline-text-3" id="text-2-24"></div>

        <div id="outline-container-orge367a5e" class="outline-4">
          <h4 id="orge367a5e"><span class=
          "section-number-4">2.24.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-24-1">
            <p>Finish up merging the component to the parent edit
            liveview. Add filtering controls to index.</p>

            <p>For tomorrow: make the two text inputs for filtering
            part of a form so they can bear the phx-change event. I
            won&rsquo;t need a changeset for this because of this:
            <a href=
            "https://elixirforum.com/t/how-to-use-form-for-in-liveview-component-without-model-or-changeset/38450">
            https://elixirforum.com/t/how-to-use-form-for-in-liveview-component-without-model-or-changeset/38450</a></p>
          </div>
        </div>

        <div id="outline-container-orgd4f1793" class="outline-4">
          <h4 id="orgd4f1793"><span class=
          "section-number-4">2.24.2.</span>
          NOTICKET/add-daisyui-and-popout-menu</h4>

          <div class="outline-text-4" id="text-2-24-2">
            <p>Change groupings of menu elements. Merge to NA-I119
            branch.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org7526b77" class="outline-3">
        <h3 id="org7526b77"><span class=
        "section-number-3">2.25.</span> Tuesday 3/07</h3>

        <div class="outline-text-3" id="text-2-25"></div>

        <div id="outline-container-org21b7bf0" class="outline-4">
          <h4 id="org21b7bf0"><span class=
          "section-number-4">2.25.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-25-1">
            <p>`vps_collection` is an assign that contains all the
            vps structs rendered on the page. We can leverage this.
            Instead of filtering in the heex (which is clumsy
            anyway) we can build a function that filters
            `vps_collection` and sets it to a `filtered` assign.
            The vps structs will be pulled from `@filtered` in the
            template. The `filtered` assign will be set in the
            event handlers for the forms and checkboxes.</p>

            <p>Two errors; checkboxes on edit form seem to be
            unclickable, and weird behavior when we click
            checkboxes on the index page. Periscope shows that the
            assigns are correct, so it&rsquo;s just graphical
            behavior that&rsquo;s wrong. Adding
            `checked={@assign_in_question}` to the inputs fixes
            that.</p>

            <p>The edit form being unclickable is a little more
            difficult. I can&rsquo;t figure out what&rsquo;s
            stopping the checkboxes from being clicked. Saving the
            form reveals that the form clicks ARE going through.
            It&rsquo;s just that they&rsquo;re not showing up
            graphically, once again.</p>

            <p>I think I&rsquo;m going to set `checked: value` on
            each form element and make the &ldquo;change&rdquo;
            event handler reset checkbox vals. The issue is that
            I&rsquo;m not sure what&rsquo;s changing when I click
            those boxes because I see no changes in the socket. I
            don&rsquo;t see any on the changeset, either. I have no
            idea how this is working. I do see that the change
            event handler is firing each time so let me try to
            inspect that&hellip;</p>

            <p>SUCCESS! It appears that the params are changing. So
            I can pull the checkbox values of the params and use
            those to set the box visuals!!</p>

            <p>Bug: Country name reverts to Afghanistan at the
            beginning when editing. We need to change how
            `assign_selected_country` works.</p>

            <p>Bug: The filtering doesn&rsquo;t seem to work,
            either.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org12121a0" class="outline-3">
        <h3 id="org12121a0"><span class=
        "section-number-3">2.26.</span> Wednesday 3/08</h3>

        <div class="outline-text-3" id="text-2-26"></div>

        <div id="outline-container-org78f0c96" class="outline-4">
          <h4 id="org78f0c96"><span class=
          "section-number-4">2.26.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-26-1">
            <p>Changing the checkboxes based on the params still
            doesn&rsquo;t work. Since the change isn&rsquo;t
            showing up graphically even though the boxes are
            checked in the DOM, I strongly suspect a css issue.</p>

            <p>`ba84af8` is the last known commit where the
            checkboxes work as expected. I&rsquo;m comparing those
            two to see what broke the checkboxes.</p>

            <p>I couldn&rsquo;t find the breaking change, but
            removing the checkbox styling in
            `apps/netadmin_web/assets/css/app.css` fixed this
            issue. However, it also made the checkboxes on the
            index page disappear, so I&rsquo;ll have to attend to
            the styling there.</p>

            <p>Bugs to fix:</p>

            <ol class="org-ol">
              <li>Country name reverts to Afghanistan at the
              beginning when editing. We need to change how
              `assign_selected_country` works.</li>

              <li>The filtering doesn&rsquo;t work. Clicking the
              checkboxes on the index page does not filter results.
              Neither does typing stuff into the fields.</li>

              <li>`assign_selected_country_id()` does nothing.</li>

              <li>It also appears that checking the boolean boxes
              while creating a new form does not do anything but
              checking the boolean boxes while editing an existing
              form does.</li>

              <li>Clicking on the &ldquo;view&rdquo; link opens the
              same modal every time, for the same vps.</li>
            </ol>

            <p>Let&rsquo;s fix 3 first. Simple enough: delete it
            from `live_helpers.ex` and all calls in the
            controller.</p>

            <p>Number 1 is a little harder. What should
            `assign_selected_country` do? It should grap the
            current country, if there is one, and put it on the
            form. Otherwise, it should default to the first country
            in the list. We do use a `live_action` in this
            controller, so let&rsquo;s use that to tell which one
            to do. We can pattern match the live action out of the
            socket assigns on the function head for
            `assign_selected_country`. Fixed this one.</p>

            <p>Number 5 is a problem. When I mouse over the
            &ldquo;view&rdquo; links, the status bar displays two
            different ids, but clicking said links brings up the
            same modal every time. It also throws this error in the
            js console:</p>

            <p>``` Multiple IDs detected: modal. Ensure unique
            element ids. ```</p>

            <p>This is because ALL the modals are trying to open at
            once, i.e. opening a modal for each VPS. Solved by
            using the id param to assign a current_vps_id.</p>

            <p>Number 2: filters for checkboxes weren&rsquo;t
            working because somehow I lost my work from earlier
            this week. Was not difficult to re-implement, tho. Now
            that the checkboxes are done, time for the text
            filters. Start by writing the event handlers to change
            the assigns, and then editing the
            assign_filtered_vps_collection function.</p>

            <p>This begs the question, though: should I break out
            the calls to `Enum.filter` into the other event
            handlers? I&rsquo;m gonna make a WIP commit and take a
            short break.</p>

            <p>Now to seed some VPSs and add live testing for my
            original functionality.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org410ada6" class="outline-3">
        <h3 id="org410ada6"><span class=
        "section-number-3">2.27.</span> Thursday 3/08</h3>

        <div class="outline-text-3" id="text-2-27"></div>

        <div id="outline-container-orga36b4ed" class="outline-4">
          <h4 id="orga36b4ed"><span class=
          "section-number-4">2.27.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-27-1">
            <p>Many PR comments to address. Clean it all up and fix
            testing.</p>

            <p>Need to think through this filtering. The behavior
            we want is as follows: if a box is checked, then we
            show VPS have that attribute. Otherwise, show both the
            VPS that have that attribute and the ones that
            don&rsquo;t.</p>

            <p>The one exception to this is the `blacklisted`
            attribute, which is the opposite of `not_blacklisted`.
            If `not_blacklisted` IS checked, then we filter out all
            the blacklisted VPS.</p>

            <p>To accomplish this, I&rsquo;ll filter out only those
            keys that have &ldquo;true&rdquo; as their clause.</p>

            <p>ADDING THE MONEY LIBRARY</p>

            <ol class="org-ol">
              <li>Add money to deps</li>

              <li>Change cost field for vps to integer in the
              migration and schema</li>

              <li>Make changes in index/edit templates</li>

              <li>Make changes in index/edit liveviews</li>

              <li>Make changes in tests</li>
            </ol>
          </div>
        </div>
      </div>

      <div id="outline-container-org7b62d37" class="outline-3">
        <h3 id="org7b62d37"><span class=
        "section-number-3">2.28.</span> Friday 3/09</h3>

        <div class="outline-text-3" id="text-2-28"></div>

        <div id="outline-container-orgb3c465b" class="outline-4">
          <h4 id="orgb3c465b"><span class=
          "section-number-4">2.28.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-28-1">
            <p>Nearly finished - most fixes implemented - the big
            issue coming up will be switching from `:money` to
            `:ex_money`. Unless I can get `:money` to work&hellip;.
            probably `:ex_money` will be easier.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-orgd0a77fa" class="outline-3">
        <h3 id="orgd0a77fa"><span class=
        "section-number-3">2.29.</span> Monday 3/13</h3>

        <div class="outline-text-3" id="text-2-29"></div>

        <div id="outline-container-org86988b8" class="outline-4">
          <h4 id="org86988b8"><span class=
          "section-number-4">2.29.1.</span>
          NA-I119-vps-management</h4>

          <div class="outline-text-4" id="text-2-29-1">
            <p>A mismatch between the migration and the front end
            seemed to be the culprit in why this wasn&rsquo;t
            working on Friday. The migration had the cost as an
            integer rather than `:money_with_currency`.</p>

            <p>When I use the `temporary_assigns:` option for
            `mount/3` in `VpsLive.Index`, it causes an error. The
            error is this: when I type something into the URL or
            name search fields that doesn&rsquo;t match any vps,
            the list should be empty. But when I use the
            `temporary_assigns: [vps_collection: []]` option, this
            doesn&rsquo;t happen. Instead, it continues to render
            whatever was already on-screen. If I remove the
            `temporary_assigns:` option, then it works as expected:
            there are no VPS listed when the search fields
            don&rsquo;t match anything.</p>

            <p>What does that option do? It resets `vps_collection`
            to `[]` after every render. It doesn&rsquo;t stop the
            urls from being filtered when there&rsquo;s still a
            match. But once `vps_collection` winds up as an empty
            list, it stops rendering it for some reason. I think
            that, perhaps, it doesn&rsquo;t re-render when the list
            is empty because it registers that as the
            &ldquo;rest&rdquo; condition, if that makes any sense.
            I notice that setting the option to a single empty Vps
            struct seems to fix this, i.e.
            `assign_vps_collection(), temporary_assigns:
            [vps_collection: [%Vps{}]]} `.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="postamble" class="status">
    <p class="author">Author: Caleb Beers</p>

    <p class="date">Created: 2023-03-13 Mon 12:44</p>
  </div>
</body>
</html>
